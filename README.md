# GRIP_TEAM_EPARI
이파리의 GRIP 프로젝트 


##데이터 베이스 생성##

Create database gripdbdemo;
CREATE TABLE SEARCHs (
Id BIGINT AUTO_INCREMENT PRIMARY KEY,
Keyword VARCHAR(255)
);

CREATE TABLE PROFILE_IMAGES (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
PATH VARCHAR(512)
);

CREATE TABLE USERS (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
USERNAME VARCHAR(20),
PASSWORD VARCHAR(50),
NAME VARCHAR(20),
EMAIL VARCHAR(50),
ADDRESS VARCHAR(255),
PHONENUMBER VARCHAR(50),
GENDER BOOL,
PROFILE_IMAGES_ID BIGINT,
FOREIGN KEY (PROFILE_IMAGES_ID) REFERENCES PROFILE_IMAGES(ID)
);



CREATE TABLE ROLES (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
ROLE_NAME VARCHAR(50)
);

CREATE TABLE USER_ROLES (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
USER_ID BIGINT,
ROLE_ID BIGINT,
FOREIGN KEY (USER_ID) REFERENCES USERS(ID),
FOREIGN KEY (ROLE_ID) REFERENCES ROLES(ID)
);

CREATE TABLE Refresh_Tokens (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
VALUE VARCHAR(255),
USER_ID BIGINT,
FOREIGN KEY (USER_ID) REFERENCES USERS(ID)
);

CREATE TABLE POSTS (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
Title VARCHAR(255),
Content VARCHAR(500),
Created_At TIMESTAMP,
Updated_At TIMESTAMP,
View_Count INTEGER,
Like_Count INTEGER,
USER_ID BIGINT,
CLIMBING_GYM_ID BIGINT,
FOREIGN KEY (USER_ID) REFERENCES USERS(ID),
FOREIGN KEY (CLIMBING_GYM_ID) REFERENCES CLIMBING_GYMs(ID)
);

CREATE TABLE Comments (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
comment_text VARCHAR(100),
created_at TIMESTAMP,
updated_at TIMESTAMP,
USER_ID BIGINT,
POST_ID BIGINT,
FOREIGN KEY (USER_ID) REFERENCES USERS(ID),
FOREIGN KEY (POST_ID) REFERENCES POSTS(ID)
);
CREATE TABLE USER_POST_LIKES (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
USER_ID BIGINT,
POST_ID BIGINT,
FOREIGN KEY (USER_ID) REFERENCES USERS(ID),
FOREIGN KEY (POST_ID) REFERENCES POSTS(ID)
);

CREATE TABLE CLIMBING_GYMs (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(255),
address VARCHAR(255)
);

CREATE TABLE CONGESTIONS (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
TIME_ZONE BIGINT,
PRESENT_COUNT INT,
ACCEPTABLE_COUNT INT,
CLIMBING_GYM_ID BIGINT,
FOREIGN KEY (CLIMBING_GYM_ID) REFERENCES CLIMBING_GYMs(ID)
);

show tables;

